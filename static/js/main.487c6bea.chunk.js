(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(t,e,n){t.exports=n(249)},249:function(t,e,n){"use strict";n.r(e);var a=n(12),i=n.n(a),r={CLARIFAI:"c3974e84eeff423b94b19a446da2ade4",ZOMATO:"ab4ea1ed53fa5b1863ef29fe21faa53c",EDAMAM:{APP_ID:"106b9cef",API_KEY:"c0136cf90a5c614c511132c3724921a7"}},s=n(51),l=n.n(s);var o=new(n(97).App)({apiKey:r.CLARIFAI}),c=n(23),u=n(3),d=n(4),b=n(8),g=n(5),p=n(7),h=n(11);function m(){var t=Object(c.a)(['\n      <head>\n        <link href="./assets/css/black-dashboard.css?v=1.0.0" rel="stylesheet" />\n      </head>\n      <div class="row" style="text-align: center">\n        <div class="col-lg-6 col-md-12">\n          <img src="','" alt="Restaurant Image" />\n        </div>\n        <div class="col-lg-6 col-md-12 pt-3">\n          <h4 class="card-title">','</h4>\n          <button\n            type="button"\n            id="know-more"\n            class="btn btn-warning btn-simple"\n          >\n            Know More\n          </button>\n        </div>\n      </div>\n    ']);return m=function(){return t},t}var f=function(t){function e(){return Object(u.a)(this,e),Object(b.a)(this,Object(g.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return Object(h.b)(m(),this.image||this.defaultImage,this.name)}}],[{key:"properties",get:function(){return{id:{type:Number},name:{type:String},cuisines:{type:String},latitude:{type:Number},longitude:{type:Number},address:{type:String},userRating:{type:Object},image:{type:String},defaultImage:{type:String}}}}]),e}(h.a);function v(){var t=Object(c.a)(['\n      <head>\n        <link href="./assets/css/black-dashboard.css?v=1.0.0" rel="stylesheet" />\n      </head>\n      <div class="row" style="text-align: center">\n        <div class="col-lg-6 col-md-12">\n          <img src="','" alt="Recipe Image" width="200"/>\n        </div>\n        <div class="col-lg-6 col-md-12 pt-3">\n          <h4 class="card-title">','</h4>\n          <button\n            type="button"\n            id="know-more"\n            class="btn btn-warning btn-simple"\n          >\n            View\n          </button>\n        </div>\n      </div>\n    ']);return v=function(){return t},t}var y=function(t){function e(){return Object(u.a)(this,e),Object(b.a)(this,Object(g.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return Object(h.b)(v(),this.image||this.defaultImage,this.label)}}],[{key:"properties",get:function(){return{id:{type:Number},label:{type:String},source:{type:String},sourceUrl:{type:String},ingredients:{type:Array},image:{type:String},defaultImage:{type:String},dietLabels:{type:Array},healthLabels:{type:Array}}}}]),e}(h.a);function A(){var t=Object(c.a)(['\n      <div class="row">\n        <div class="col-lg-4 col-md-12"  style="text-align: center">\n          <img src="','" alt="Restaurant Image" />\n        </div>\n        <div class="col-lg-8 col-md-12 pt-3" style="font-size: 12pt">\n          <p style="color: var(--dark)"><b class="font-weight-bold">Address</b> : ','</p>\n          <p style="color: var(--dark)"><b class="font-weight-bold">Cuisines</b> : ','</p>\n          <p style="color: var(--dark)"><b class="font-weight-bold">Rating</b> : ','</p>\n        </div>\n      </div>\n      <div class="row pt-4 pl-3 pr-3">\n        <div class="col-lg-12 col-md-12 embed-responsive embed-responsive-16by9" id="map">\n          <iframe src="https://www.google.com/maps?q=','&output=embed"\n            frameborder="0" \n            style="border:0" \n            allowfullscreen>\n          </iframe>\n        </div>\n      </div>\n    ']);return A=function(){return t},t}var L=function(t){function e(){return Object(u.a)(this,e),Object(b.a)(this,Object(g.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this.name.replace(/\s/g,"+"),e=this.address.replace(/\s/g,"+");return t.concat("+,+".concat(e)),Object(h.b)(A(),this.image||this.defaultImage,this.address,this.cuisines,this.userRating,t)}},{key:"createRenderRoot",value:function(){return this}}],[{key:"properties",get:function(){return{name:{type:String},cuisines:{type:String},latitude:{type:Number},longitude:{type:Number},address:{type:String},userRating:{type:Object},image:{type:String},defaultImage:{type:String}}}}]),e}(h.a),w=n(98),k=n.n(w);function I(){var t=Object(c.a)(['\n      <div class="row">\n        <div class="col-lg-4 col-md-12" style="text-align: center">\n          <img src="','" alt="Recipe Image" />\n          <div class="row" style="text-align: center">\n            <div class="col-lg-12 col-md-12 pt-2">\n              <a href=',' class="btn btn-success" target="_blank">Know More</a>\n            </div>\n          </div>\n        </div>\n        <div class="col-lg-8 col-md-12 pt-3" style="font-size: 12pt" id="info">\n          <ul class="nav nav-pills" role="tablist">\n            <li class="nav-item">\n              <a\n                class="nav-link active btn btn-simple"\n                data-toggle="tab"\n                href="#ingredients"\n                role="tablist"\n                aria-expanded="true"\n              >\n                Ingredients\n              </a>\n            </li>\n            <li class="nav-item">\n              <a\n                class="nav-link btn btn-simple"\n                data-toggle="tab"\n                href="#health"\n                role="tablist"\n                aria-expanded="false"\n              >\n                Health Labels\n              </a>\n            </li>\n            <li class="nav-item">\n              <a\n                class="nav-link btn btn-simple"\n                data-toggle="tab"\n                href="#diet"\n                role="tablist"\n                aria-expanded="false"\n              >\n                Diet Labels\n              </a>\n            </li>\n          </ul>\n          <div class="tab-content tab-space pt-2">\n            <div class="tab-pane active" id="ingredients" aria-expanded="true">\n              \x3c!-- Ingredients --\x3e\n              <ul id="ingList" style="list-style-type: circle"></ul>\n            </div>\n            <div class="tab-pane" id="health" aria-expanded="false">\n              \x3c!-- Health Labels --\x3e\n              <ul id="healthList" style="list-style-type: circle"></ul>\n            </div>\n            <div class="tab-pane" id="diet" aria-expanded="false">\n              <ul id="dietList" style="list-style-type: circle"></ul>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="row justify-content-center">\n        <div class="col-lg-6 col-md-6">\n          <canvas id="pieCanvas" width="40" height="40"></canvas>\n        </div>\n      </div>\n      <div class="row pt-4 pl-3 pr-3">\n        <div class="col-lg-12 col-md-12 embed-responsive embed-responsive-16by9" id="map">\n          <iframe\n            src="https://www.youtube.com/embed?listType=search&list=','+recipe"\n            frameborder="0"\n            style="border:0"\n            allowfullscreen\n          >\n          </iframe>\n        </div>\n      </div>\n    ']);return I=function(){return t},t}var j=function(t){function e(){return Object(u.a)(this,e),Object(b.a)(this,Object(g.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(d.a)(e,[{key:"getIngredients",value:function(){this.ingredientsArray=this.ingredients.split("|");var t=this.renderRoot.querySelector("#ingList");this.ingredientsArray.forEach(function(e){var n=document.createElement("li");n.setAttribute("style","color: black"),n.innerHTML="".concat(e),t.appendChild(n)})}},{key:"getHealthLabels",value:function(){this.healthLabelsArray=this.healthLabels.split("|");var t=this.renderRoot.querySelector("#healthList");this.healthLabelsArray.forEach(function(e){var n=document.createElement("li");n.setAttribute("style","color: black"),n.innerHTML="".concat(e),t.appendChild(n)})}},{key:"getDietLabels",value:function(){this.dietLabelsArray=this.dietLabels.split("|");var t=this.renderRoot.querySelector("#dietList");this.dietLabelsArray.forEach(function(e){var n=document.createElement("li");n.setAttribute("style","color: black"),n.innerHTML="".concat(e),t.appendChild(n)})}},{key:"getNutrients",value:function(){this.nutrientsArray=JSON.parse(this.nutrients);var t=this.renderRoot.querySelector("#pieCanvas"),e=[],n=[];this.nutrientsArray.forEach(function(t){e.push(Math.trunc(t.total)),n.push("".concat(t.label," (").concat(t.unit,")"))});var a={datasets:[{data:e,label:"Nutrients",backgroundColor:["#003f5c","#58508d","#bc5090","#ff6361","#ffa600"],borderWidth:1}],labels:n};new k.a(t,{type:"pie",data:a,options:{animation:{animateScale:!0},legend:{labels:{fontSize:16}}}})}},{key:"render",value:function(){var t=this.label.replace(/\s/g,"+");return Object(h.b)(I(),this.image||this.defaultImage,this.url,t)}},{key:"createRenderRoot",value:function(){return this}}],[{key:"properties",get:function(){return{label:{type:String},ingredients:{type:String},dietLabels:{type:String},healthLabels:{type:String},nutrients:{type:String},source:{type:String},url:{type:String},image:{type:String},defaultImage:{type:String},ingredientsArray:{type:Array},dietLabelsArray:{type:Array},healthLabelsArray:{type:Array},nutrientsArray:{type:Array}}}}]),e}(h.a),O=n(99),S={apiKey:"AIzaSyCK5tTuXD5WbHmhC-hBj-giHh3JLnb_fhE",authDomain:"foozam-test.firebaseapp.com",databaseURL:"https://foozam-test.firebaseio.com",projectId:"foozam-test",storageBucket:"",messagingSenderId:"791490333729"},E=Object(O.initializeApp)(S).database().ref();function M(t){var e={};return e.id=t.id,e.name=t.name,e.location=t.location,e.cuisines=t.cuisines,e.thumb=t.thumb,e.userRating=t.user_rating,e}function R(t){var e={};return e.label=t.label,e.source=t.source,e.url=t.url,e.image=t.image,e.ingredientLines=t.ingredientLines,e.nutrients=t.digest,e.dietLabels=t.dietLabels,e.healthLabels=t.healthLabels,e.cautions=t.cautions,e}var C=[],H=[];var T=document.getElementById("img-file"),x=document.getElementById("result-title"),z=E.child("image");customElements.define("restaurant-info",f),customElements.define("recipe-info",y),customElements.define("know-more-restaurant",L),customElements.define("know-more-recipe",j);var B=[];function N(t){var e,n,a,s,o,c;e=r.EDAMAM.API_KEY,n=r.EDAMAM.APP_ID,a=t.innerHTML,s=0,o=20,c=function(t){!function(t){var e,n=E.child("recipes"),a=document.getElementById("link1"),r=t.hits,s=[];n.remove();for(var l=0;l<r.length;l+=1)s.push(R(r[l].recipe)),s[l].id=l,n.push(s[l]),H.push(new y),H[l].setAttribute("class","col-lg-6 col-md-12 pb-3"),H[l].setAttribute("id",l),H[l].setAttribute("label",r[l].recipe.label),H[l].setAttribute("source",r[l].recipe.source),H[l].setAttribute("url",r[l].recipe.url),H[l].setAttribute("image",r[l].recipe.image),H[l].setAttribute("defaultImage","https://foozam.ml/assets/img/recipe-default.png"),H[l].setAttribute("data-toggle","modal"),H[l].setAttribute("data-target","#knowMoreModal");if(H.length>20)for(var o=0;o<20;o+=1)H.pop();else for(;a.firstChild;)a.removeChild(a.firstChild);for(var c=0;c<H.length-1;c+=1)c%2===0&&((e=document.createElement("div")).setAttribute("class","row"),e.appendChild(H[c]),e.appendChild(H[c+1]),a.appendChild(e));H.forEach(function(t){var e,a,r,s,l=t,o=new j,c=[];i()(l).click(function(){var l="".concat(t.getAttribute("label")," : ").concat(t.getAttribute("source"));n.orderByChild("label").equalTo(t.getAttribute("label")).limitToFirst(1).on("value",function(t){var n=Object.keys(t.val())[0],i=t.child(n).val();e=i.ingredientLines?i.ingredientLines.join("|"):"Sorry. No Ingredients Here.",a=i.dietLabels?i.dietLabels.join("|"):"Sorry. No Diet Labels Here.",r=i.healthLabels?i.healthLabels.join("|"):"Sorry. No Health Labels Here.";for(var l=0;l<5;l+=1)c.push(i.nutrients[l]);s=c?JSON.stringify(c):"",o.setAttribute("nutrients",s),o.setAttribute("ingredients",e),o.setAttribute("dietLabels",a),o.setAttribute("healthLabels",r),e&&o.getIngredients(),a&&o.getDietLabels(),r&&o.getHealthLabels(),s&&o.getNutrients()}),o.setAttribute("source",t.getAttribute("source")),o.setAttribute("url",t.getAttribute("url")),o.setAttribute("image",t.getAttribute("image")),o.setAttribute("defaultImage",t.getAttribute("defaultImage")),o.setAttribute("label",t.getAttribute("label")),i()("#knowMoreTitle").html(l),i()("#knowMoreBody").html(o)})})}(t)},l.a.get("https://api.edamam.com/search?app_id=".concat(n,"&app_key=").concat(e,"&q=").concat(a,"&from=").concat(s,"&to=").concat(o)).then(function(t){c(t.data)})}function D(t){var e,n;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){e=a.coords.latitude,n=a.coords.longitude,function(t,e,n,a,i,r,s,o){l.a.get("https://developers.zomato.com/api/v2.1/search?apikey=".concat(t,"&entity_id=").concat(n,"&entity_type=").concat(a,"&q=").concat(e,"&count=").concat(i,"&lat=").concat(r,"&lon=").concat(s,"&sort=real_distance&order=asc")).then(function(t){o(t.data)})}(r.ZOMATO,t.innerHTML,5,"city",20,e,n,function(t){!function(t){var e,n=E.child("restaurants"),a=document.getElementById("link2"),r=t.restaurants,s=[];n.remove();for(var l=0;l<r.length;l+=1)s.push(M(r[l].restaurant)),n.push(s[l]),C.push(new f),C[l].setAttribute("class","col-lg-6 col-md-12 pb-3"),C[l].setAttribute("id",r[l].restaurant.id),C[l].setAttribute("name",r[l].restaurant.name),C[l].setAttribute("longitude",r[l].restaurant.location.longitude),C[l].setAttribute("latitude",r[l].restaurant.location.latitude),C[l].setAttribute("address",r[l].restaurant.location.address),C[l].setAttribute("cuisines",r[l].restaurant.cuisines),C[l].setAttribute("image",r[l].restaurant.thumb),C[l].setAttribute("userRating",r[l].restaurant.user_rating.aggregate_rating),C[l].setAttribute("defaultImage","https://foozam.ml/assets/img/rest-default.png"),C[l].setAttribute("data-toggle","modal"),C[l].setAttribute("data-target","#knowMoreModal");if(C.length>20)for(var o=0;o<20;o+=1)C.pop();else for(;a.firstChild;)a.removeChild(a.firstChild);for(var c=0;c<C.length-1;c+=1)c%2===0&&((e=document.createElement("div")).setAttribute("class","row"),e.appendChild(C[c]),e.appendChild(C[c+1]),a.appendChild(e));C.forEach(function(t){var e=t,n=new L;i()(e).click(function(){var e=t.getAttribute("name");n.setAttribute("cuisines",t.getAttribute("cuisines")),n.setAttribute("latitude",t.getAttribute("latitude")),n.setAttribute("longitude",t.getAttribute("longitude")),n.setAttribute("address",t.getAttribute("address")),n.setAttribute("userRating",t.getAttribute("userRating")),n.setAttribute("image",t.getAttribute("image")),n.setAttribute("defaultImage",t.getAttribute("defaultImage")),n.setAttribute("name",t.getAttribute("name")),i()("#knowMoreTitle").html(e),i()("#knowMoreBody").html(n)})})}(t)})})}for(var q=1;q<=5;q+=1)B.push(document.getElementById("pred-".concat(q)));function F(t){var e=[];o.models.predict("bd367be194cf45149e75f01d59f77ba7",t).then(function(t){for(var n=0;n<5;n+=1)e.push(t.outputs[0].data.concepts[n].name);for(var a=0;a<5;a+=1)B[a].innerHTML=e[a].toUpperCase();x.innerHTML="Foozam Results For ",x.innerHTML=x.innerHTML.concat(B[0].innerHTML),N(B[0]),D(B[0])},function(t){console.log(t)})}B.forEach(function(t){t.addEventListener("click",function(){x.innerHTML="Foozam Results For ",x.innerHTML=x.innerHTML.concat(t.innerHTML),N(t),D(t)})});var K=document.getElementById("loader");function P(){i()("body").removeClass("fade-out")}function J(){K.style.visibility="hidden",i()("body").addClass("fade-out"),setTimeout(P,100)}window.addEventListener("load",function(){F(document.getElementById("foozam-img").src),setTimeout(J,5e3),i()("body").removeClass("fade-out")}),T.addEventListener("change",function(){!function(){var t=document.getElementById("foozam-img"),e=document.getElementById("img-file").files[0],n=new FileReader;e=new Blob([e]),n.addEventListener("loadend",function(){t.src=n.result,z.push(n.result),F(n.result.replace("data:application/octet-stream;base64,",""))}),e&&n.readAsDataURL(e)}()})}},[[100,2,1]]]);
//# sourceMappingURL=main.487c6bea.chunk.js.map