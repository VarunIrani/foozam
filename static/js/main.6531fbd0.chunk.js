(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(t,e,n){t.exports=n(237)},116:function(t,e){},118:function(t,e){},158:function(t,e){},159:function(t,e){},161:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=161},237:function(t,e,n){"use strict";n.r(e);var i=n(9),a=n.n(i),r=n(100),s=n.n(r),l={ZOMATO:"ab4ea1ed53fa5b1863ef29fe21faa53c",EDAMAM:{APP_ID:"106b9cef",API_KEY:"c0136cf90a5c614c511132c3724921a7"}},o=n(101),c=n.n(o);var u=n(17),d=n(2),b=n(4),g=n(7),p=n(3),m=n(6),h=n(13);function f(){var t=Object(u.a)(['\n\t\t\t<head>\n\t\t\t\t<link href="./assets/css/black-dashboard.css?v=1.0.0" rel="stylesheet" />\n\t\t\t</head>\n\t\t\t<div class="row" style="text-align: center">\n\t\t\t\t<div class="col-lg-6 col-md-12"><img src="','" alt="Restaurant Image" /></div>\n\t\t\t\t<div class="col-lg-6 col-md-12 pt-3">\n\t\t\t\t\t<h4 class="card-title">','</h4>\n\t\t\t\t\t<button type="button" id="know-more" class="btn btn-warning btn-simple">Know More</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t']);return f=function(){return t},t}var y=function(t){function e(){return Object(d.a)(this,e),Object(g.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return Object(h.b)(f(),this.image||this.defaultImage,this.name)}}],[{key:"properties",get:function(){return{id:{type:Number},name:{type:String},cuisines:{type:String},latitude:{type:Number},longitude:{type:Number},address:{type:String},userRating:{type:Object},image:{type:String},defaultImage:{type:String}}}}]),e}(h.a);function v(){var t=Object(u.a)(['\n\t\t\t<head>\n\t\t\t\t<link href="./assets/css/black-dashboard.css?v=1.0.0" rel="stylesheet" />\n\t\t\t</head>\n\t\t\t<div class="row" style="text-align: center">\n\t\t\t\t<div class="col-lg-6 col-md-12">\n\t\t\t\t\t<img src="','" alt="Recipe Image" width="200" />\n\t\t\t\t</div>\n\t\t\t\t<div class="col-lg-6 col-md-12 pt-3">\n\t\t\t\t\t<h4 class="card-title">','</h4>\n\t\t\t\t\t<button type="button" id="know-more" class="btn btn-warning btn-simple">View</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t']);return v=function(){return t},t}var A=function(t){function e(){return Object(d.a)(this,e),Object(g.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return Object(h.b)(v(),this.image||this.defaultImage,this.label)}}],[{key:"properties",get:function(){return{id:{type:Number},label:{type:String},source:{type:String},sourceUrl:{type:String},ingredients:{type:Array},image:{type:String},defaultImage:{type:String},dietLabels:{type:Array},healthLabels:{type:Array}}}}]),e}(h.a);function L(){var t=Object(u.a)(['\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-lg-4 col-md-12" style="text-align: center">\n\t\t\t\t\t<img src="','" alt="Restaurant Image" />\n\t\t\t\t</div>\n\t\t\t\t<div class="col-lg-8 col-md-12 pt-3" style="font-size: 12pt">\n\t\t\t\t\t<p style="color: var(--dark)"><b class="font-weight-bold">Address</b> : ','</p>\n\t\t\t\t\t<p style="color: var(--dark)"><b class="font-weight-bold">Cuisines</b> : ','</p>\n\t\t\t\t\t<p style="color: var(--dark)"><b class="font-weight-bold">Rating</b> : ','</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row pt-4 pl-3 pr-3">\n\t\t\t\t<div class="col-lg-12 col-md-12 embed-responsive embed-responsive-16by9" id="map">\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tsrc="https://www.google.com/maps?q=','&output=embed"\n\t\t\t\t\t\tframeborder="0"\n\t\t\t\t\t\tstyle="border:0"\n\t\t\t\t\t\tallowfullscreen\n\t\t\t\t\t>\n\t\t\t\t\t</iframe>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t']);return L=function(){return t},t}var w=function(t){function e(){return Object(d.a)(this,e),Object(g.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){var t=this.name.replace(/\s/g,"+"),e=this.address.replace(/\s/g,"+");return t.concat("+,+".concat(e)),Object(h.b)(L(),this.image||this.defaultImage,this.address,this.cuisines,this.userRating,t)}},{key:"createRenderRoot",value:function(){return this}}],[{key:"properties",get:function(){return{name:{type:String},cuisines:{type:String},latitude:{type:Number},longitude:{type:Number},address:{type:String},userRating:{type:Object},image:{type:String},defaultImage:{type:String}}}}]),e}(h.a),k=n(102),O=n.n(k);function I(){var t=Object(u.a)(['\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-lg-4 col-md-12" style="text-align: center">\n\t\t\t\t\t<img src="','" alt="Recipe Image" />\n\t\t\t\t\t<div class="row" style="text-align: center">\n\t\t\t\t\t\t<div class="col-lg-12 col-md-12 pt-2">\n\t\t\t\t\t\t\t<a href=',' class="btn btn-success" target="_blank">Know More</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-lg-8 col-md-12 pt-3" style="font-size: 12pt" id="info">\n\t\t\t\t\t<ul class="nav nav-pills" role="tablist">\n\t\t\t\t\t\t<li class="nav-item">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclass="nav-link active btn btn-simple"\n\t\t\t\t\t\t\t\tdata-toggle="tab"\n\t\t\t\t\t\t\t\thref="#ingredients"\n\t\t\t\t\t\t\t\trole="tablist"\n\t\t\t\t\t\t\t\taria-expanded="true"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tIngredients\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="nav-item">\n\t\t\t\t\t\t\t<a class="nav-link btn btn-simple" data-toggle="tab" href="#health" role="tablist" aria-expanded="false">\n\t\t\t\t\t\t\t\tHealth Labels\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="nav-item">\n\t\t\t\t\t\t\t<a class="nav-link btn btn-simple" data-toggle="tab" href="#diet" role="tablist" aria-expanded="false">\n\t\t\t\t\t\t\t\tDiet Labels\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<div class="tab-content tab-space pt-2">\n\t\t\t\t\t\t<div class="tab-pane active" id="ingredients" aria-expanded="true">\n\t\t\t\t\t\t\t\x3c!-- Ingredients --\x3e\n\t\t\t\t\t\t\t<ul id="ingList" style="list-style-type: circle"></ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tab-pane" id="health" aria-expanded="false">\n\t\t\t\t\t\t\t\x3c!-- Health Labels --\x3e\n\t\t\t\t\t\t\t<ul id="healthList" style="list-style-type: circle"></ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tab-pane" id="diet" aria-expanded="false">\n\t\t\t\t\t\t\t<ul id="dietList" style="list-style-type: circle"></ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row justify-content-center">\n\t\t\t\t<div class="col-lg-6 col-md-6"><canvas id="pieCanvas" width="40" height="40"></canvas></div>\n\t\t\t</div>\n\t\t\t<div class="row pt-4 pl-3 pr-3">\n\t\t\t\t<div class="col-lg-12 col-md-12 embed-responsive embed-responsive-16by9" id="map">\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tsrc="https://www.youtube.com/embed?listType=search&list=','+recipe"\n\t\t\t\t\t\tframeborder="0"\n\t\t\t\t\t\tstyle="border:0"\n\t\t\t\t\t\tallowfullscreen\n\t\t\t\t\t>\n\t\t\t\t\t</iframe>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t']);return I=function(){return t},t}var E=function(t){function e(){return Object(d.a)(this,e),Object(g.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(b.a)(e,[{key:"getIngredients",value:function(){this.ingredientsArray=this.ingredients.split("|");var t=this.renderRoot.querySelector("#ingList");this.ingredientsArray.forEach(function(e){var n=document.createElement("li");n.setAttribute("style","color: black"),n.innerHTML="".concat(e),t.appendChild(n)})}},{key:"getHealthLabels",value:function(){this.healthLabelsArray=this.healthLabels.split("|");var t=this.renderRoot.querySelector("#healthList");this.healthLabelsArray.forEach(function(e){var n=document.createElement("li");n.setAttribute("style","color: black"),n.innerHTML="".concat(e),t.appendChild(n)})}},{key:"getDietLabels",value:function(){this.dietLabelsArray=this.dietLabels.split("|");var t=this.renderRoot.querySelector("#dietList");this.dietLabelsArray.forEach(function(e){var n=document.createElement("li");n.setAttribute("style","color: black"),n.innerHTML="".concat(e),t.appendChild(n)})}},{key:"getNutrients",value:function(){this.nutrientsArray=JSON.parse(this.nutrients);var t=this.renderRoot.querySelector("#pieCanvas"),e=[],n=[];this.nutrientsArray.forEach(function(t){e.push(Math.trunc(t.total)),n.push("".concat(t.label," (").concat(t.unit,")"))});var i={datasets:[{data:e,label:"Nutrients",backgroundColor:["#003f5c","#58508d","#bc5090","#ff6361","#ffa600"],borderWidth:1}],labels:n};new O.a(t,{type:"pie",data:i,options:{animation:{animateScale:!0},legend:{labels:{fontSize:16}}}})}},{key:"render",value:function(){var t=this.label.replace(/\s/g,"+");return Object(h.b)(I(),this.image||this.defaultImage,this.url,t)}},{key:"createRenderRoot",value:function(){return this}}],[{key:"properties",get:function(){return{label:{type:String},ingredients:{type:String},dietLabels:{type:String},healthLabels:{type:String},nutrients:{type:String},source:{type:String},url:{type:String},image:{type:String},defaultImage:{type:String},ingredientsArray:{type:Array},dietLabelsArray:{type:Array},healthLabelsArray:{type:Array},nutrientsArray:{type:Array}}}}]),e}(h.a),S=n(103),j={apiKey:"AIzaSyCK5tTuXD5WbHmhC-hBj-giHh3JLnb_fhE",authDomain:"foozam-test.firebaseapp.com",databaseURL:"https://foozam-test.firebaseio.com",projectId:"foozam-test",storageBucket:"",messagingSenderId:"791490333729"},M=Object(S.initializeApp)(j).database().ref();function T(t){var e={};return e.id=t.id,e.name=t.name,e.location=t.location,e.cuisines=t.cuisines,e.thumb=t.thumb,e.userRating=t.user_rating,e}function C(t){var e={};return e.label=t.label,e.source=t.source,e.url=t.url,e.image=t.image,e.ingredientLines=t.ingredientLines,e.nutrients=t.digest,e.dietLabels=t.dietLabels,e.healthLabels=t.healthLabels,e.cautions=t.cautions,e}var H=[],R=[];var x=document.getElementById("img-file"),z=document.getElementById("result-title"),B=M.child("image");customElements.define("restaurant-info",y),customElements.define("recipe-info",A),customElements.define("know-more-restaurant",w),customElements.define("know-more-recipe",E);var D=[];function N(t){!function(t,e,n,i,r,s){var l={async:!0,crossDomain:!0,url:"https://foozam-recipe.herokuapp.com/recipe?app_id=".concat(e,"&app_key=").concat(t,"&q=").concat(n,"&from=").concat(i,"&to=").concat(r),method:"GET"};a.a.ajax(l).done(function(t){console.log(t),s(t)})}(l.EDAMAM.API_KEY,l.EDAMAM.APP_ID,t.innerHTML,0,20,function(t){!function(t){var e,n=M.child("recipes"),i=document.getElementById("link1"),r=t.hits,s=[];n.remove();for(var l=0;l<r.length;l+=1)s.push(C(r[l].recipe)),s[l].id=l,n.push(s[l]),R.push(new A),R[l].setAttribute("class","col-lg-6 col-md-12 pb-3"),R[l].setAttribute("id",l),R[l].setAttribute("label",r[l].recipe.label),R[l].setAttribute("source",r[l].recipe.source),R[l].setAttribute("url",r[l].recipe.url),R[l].setAttribute("image",r[l].recipe.image),R[l].setAttribute("defaultImage","https://foozam.ml/assets/img/recipe-default.png"),R[l].setAttribute("data-toggle","modal"),R[l].setAttribute("data-target","#knowMoreModal");if(R.length>20)for(var o=0;o<20;o+=1)R.pop();else for(;i.firstChild;)i.removeChild(i.firstChild);for(var c=0;c<R.length-1;c+=1)c%2===0&&((e=document.createElement("div")).setAttribute("class","row"),e.appendChild(R[c]),e.appendChild(R[c+1]),i.appendChild(e));R.forEach(function(t){var e,i,r,s,l=t,o=new E,c=[];a()(l).click(function(){var l="".concat(t.getAttribute("label")," : ").concat(t.getAttribute("source"));n.orderByChild("label").equalTo(t.getAttribute("label")).limitToFirst(1).on("value",function(t){var n=Object.keys(t.val())[0],a=t.child(n).val();e=a.ingredientLines?a.ingredientLines.join("|"):"Sorry. No Ingredients Here.",i=a.dietLabels?a.dietLabels.join("|"):"Sorry. No Diet Labels Here.",r=a.healthLabels?a.healthLabels.join("|"):"Sorry. No Health Labels Here.";for(var l=0;l<5;l+=1)c.push(a.nutrients[l]);s=c?JSON.stringify(c):"",o.setAttribute("nutrients",s),o.setAttribute("ingredients",e),o.setAttribute("dietLabels",i),o.setAttribute("healthLabels",r),e&&o.getIngredients(),i&&o.getDietLabels(),r&&o.getHealthLabels(),s&&o.getNutrients()}),o.setAttribute("source",t.getAttribute("source")),o.setAttribute("url",t.getAttribute("url")),o.setAttribute("image",t.getAttribute("image")),o.setAttribute("defaultImage",t.getAttribute("defaultImage")),o.setAttribute("label",t.getAttribute("label")),a()("#knowMoreTitle").html(l),a()("#knowMoreBody").html(o)})})}(t)})}function _(t){var e,n;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(i){e=i.coords.latitude,n=i.coords.longitude,function(t,e,n,i,a,r,s,l){c.a.get("https://developers.zomato.com/api/v2.1/search?apikey=".concat(t,"&entity_id=").concat(n,"&entity_type=").concat(i,"&q=").concat(e,"&count=").concat(a,"&lat=").concat(r,"&lon=").concat(s,"&sort=real_distance&order=asc")).then(function(t){l(t.data)})}(l.ZOMATO,t.innerHTML,5,"city",20,e,n,function(t){!function(t){var e,n=M.child("restaurants"),i=document.getElementById("link2"),r=t.restaurants,s=[];n.remove();for(var l=0;l<r.length;l+=1)s.push(T(r[l].restaurant)),n.push(s[l]),H.push(new y),H[l].setAttribute("class","col-lg-6 col-md-12 pb-3"),H[l].setAttribute("id",r[l].restaurant.id),H[l].setAttribute("name",r[l].restaurant.name),H[l].setAttribute("longitude",r[l].restaurant.location.longitude),H[l].setAttribute("latitude",r[l].restaurant.location.latitude),H[l].setAttribute("address",r[l].restaurant.location.address),H[l].setAttribute("cuisines",r[l].restaurant.cuisines),H[l].setAttribute("image",r[l].restaurant.thumb),H[l].setAttribute("userRating",r[l].restaurant.user_rating.aggregate_rating),H[l].setAttribute("defaultImage","https://foozam.ml/assets/img/rest-default.png"),H[l].setAttribute("data-toggle","modal"),H[l].setAttribute("data-target","#knowMoreModal");if(H.length>20)for(var o=0;o<20;o+=1)H.pop();else for(;i.firstChild;)i.removeChild(i.firstChild);for(var c=0;c<H.length-1;c+=1)c%2===0&&((e=document.createElement("div")).setAttribute("class","row"),e.appendChild(H[c]),e.appendChild(H[c+1]),i.appendChild(e));H.forEach(function(t){var e=t,n=new w;a()(e).click(function(){var e=t.getAttribute("name");n.setAttribute("cuisines",t.getAttribute("cuisines")),n.setAttribute("latitude",t.getAttribute("latitude")),n.setAttribute("longitude",t.getAttribute("longitude")),n.setAttribute("address",t.getAttribute("address")),n.setAttribute("userRating",t.getAttribute("userRating")),n.setAttribute("image",t.getAttribute("image")),n.setAttribute("defaultImage",t.getAttribute("defaultImage")),n.setAttribute("name",t.getAttribute("name")),a()("#knowMoreTitle").html(e),a()("#knowMoreBody").html(n)})})}(t)})})}for(var P=1;P<=2;P+=1)D.push(document.getElementById("pred-".concat(P)));D.forEach(function(t){t.setAttribute("style","opacity: 0"),t.addEventListener("click",function(){z.innerHTML="Foozam Results For ",z.innerHTML=z.innerHTML.concat(t.innerHTML),N(t),_(t)})});for(var U=[],q=0;q<5;q+=1)U.push(document.getElementById("type-".concat(q)));var F=[];function K(){var t=document.getElementById("foozam-img"),e=document.getElementById("img-file").files[0],n=new FileReader;e=new Blob([e]),n.addEventListener("loadend",function(){t.src=n.result,B.push(n.result),s()(t.src).then(function(t){!function(t,e){var n=GROUPS.indexOf(sessionStorage.getItem("currentGroup")),i={async:!0,crossDomain:!0,url:"https://foozam-".concat(n,".herokuapp.com/predict"),method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{img:t,group:sessionStorage.getItem("currentGroup")}};a.a.ajax(i).done(function(t){e(t)})}(t,function(t){if(t.success){document.getElementById("foozam-guess").innerHTML="Foozam Guesses That The Image Contains . . .";var e=[];e.push(t.predictions[0].label),D[0].innerHTML=e[0].toUpperCase(),z.innerHTML="Foozam Results For ",z.innerHTML=z.innerHTML.concat(D[0].innerHTML),N(D[0]),_(D[0]),D[0].setAttribute("style","opacity: 1"),D[1].setAttribute("style","opacity: 0")}else D[0].innerHTML="Try uploading a better image of the food item.".toUpperCase(),D[1].innerHTML="Or upload an image that is one of the above categories".toUpperCase(),D[0].setAttribute("style","opacity: 1"),D[1].setAttribute("style","opacity: 1")})})}),e&&n.readAsDataURL(e)}U.forEach(function(t){F.push(t.innerHTML),t.addEventListener("click",function(){window.location.reload()})});var G=document.getElementById("loader");function J(){a()("body").removeClass("fade-out")}function W(){G.style.visibility="hidden",a()("body").addClass("fade-out"),setTimeout(J,100)}window.addEventListener("load",function(){setTimeout(W,5e3),a()("body").removeClass("fade-out")}),x.addEventListener("change",function(){K()})}},[[104,1,2]]]);
//# sourceMappingURL=main.6531fbd0.chunk.js.map