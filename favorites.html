<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<link rel="apple-touch-icon" sizes="76x76" href="./assets/img/apple-icon.png" />
	<link rel="icon" type="image/jpg" href="./assets/img/favicon.webp" />
	<link rel="manifest" href="./home/manifest.json">

	<title>Foozam</title>
	<!-- Preload -->
	<link href="./assets/js/core/jquery.min.js" rel="preload" as="script" />
	<link href="./assets/js/core/popper.min.js" rel="preload" as="script" />
	<link href="./assets/js/core/bootstrap.min.js" rel="preload" as="script" />
	<link rel="preload" href="./assets/js/plugins/perfect-scrollbar.jquery.min.js" as="script">
	<!--     Fonts and icons     -->
	<link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,600,700,800" rel="stylesheet" />
	<link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet" />
	<!-- Nucleo Icons -->
	<link href="./assets/css/nucleo-icons.css" rel="stylesheet" />
	<!-- CSS Files -->
	<link href="./assets/css/black-dashboard.css?v=1.0.0" rel="stylesheet" />
	<link rel="stylesheet" href="./assets/css/loading.css">
	<link rel="stylesheet" href="./assets/css/main.css">

</head>

<body class="">
	<div id="loader">
		<video autoplay loop muted playsinline style="width: 100%; height: 30%; margin-top: 30vh">
			<source src="./assets/img/output.webm" type="video/webm">
		</video>
	</div>

	<div class="wrapper">
		<div class="sidebar">
			<!--
        Tip 1: You can change the color of the sidebar using: data-color="blue | green | orange | red"
    -->
			<div class="sidebar-wrapper" data-color="blue">
				<div class="logo">
					<a href="index.html" class="simple-text logo-mini">
						<img src="./assets/img/favicon.webp" alt="Foozam Logo" />
					</a>
					<a href="index.html" class="simple-text logo-normal" style="text-transform: capitalize">
						Foozam
					</a>
				</div>
				<ul class="nav">
					<li>
						<a href="index.html">
							<i class="tim-icons icon-atom"></i>
							<p>Know Your Food</p>
						</a>
					</li>
					<li class="active ">
						<a href="./favorites.html">
							<i class="tim-icons icon-shape-star"></i>
							<p>Favorites</p>
						</a>
					</li>
					<li>
						<a href="#">
							<i class="tim-icons icon-paper"></i>
							<p>Blogs</p>
						</a>
					</li>
					<li>
						<a href="./user.html">
							<i class="tim-icons icon-single-02"></i>
							<p>Your Profile</p>
						</a>
					</li>
					<li>
						<a href="./about.html">
							<i class="tim-icons icon-tie-bow"></i>
							<p>About Us</p>
						</a>
					</li>
					<li>
						<a href="./contact.html">
							<i class="tim-icons icon-send"></i>
							<p>Contact Us</p>
						</a>
					</li>
				</ul>
			</div>
		</div>
		<div class="main-panel">
			<!-- Navbar -->
			<nav class="navbar navbar-expand-lg navbar-absolute navbar-transparent">
				<div class="container-fluid">
					<div class="navbar-wrapper">
						<div class="navbar-toggle d-inline">
							<button type="button" class="navbar-toggler">
								<span class="navbar-toggler-bar bar1"></span>
								<span class="navbar-toggler-bar bar2"></span>
								<span class="navbar-toggler-bar bar3"></span>
							</button>
						</div>
						<a class="navbar-brand" href="javascript:void(0)">FAVORITES</a>
					</div>
					<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
						aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-bar navbar-kebab"></span>
						<span class="navbar-toggler-bar navbar-kebab"></span>
						<span class="navbar-toggler-bar navbar-kebab"></span>
					</button>

					<div class="collapse navbar-collapse" id="navigation">
						<ul class="navbar-nav ml-auto">
							<li class="dropdown nav-item">
								<a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
									<div class="photo">
										<img src="./assets/img/anime3.webp" alt="Profile Photo" id="userProfilePhoto" />
									</div>
									<b class="caret d-none d-lg-block d-xl-block"></b>
									<p class="d-lg-none" id="logoutButton">Log out</p>
								</a>
								<ul class="dropdown-menu dropdown-navbar">
									<li class="nav-link">
										<a href="user.html" class="nav-item dropdown-item">Profile</a>
									</li>
									<li class="dropdown-divider"></li>
									<li class="nav-link">
										<a href="#" class="nav-item dropdown-item" id="logoutLink">Log out</a>
									</li>
								</ul>
							</li>
							<li class="separator d-lg-none"></li>
						</ul>
					</div>
				</div>
			</nav>
			<div class="modal modal-search fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModal"
				aria-hidden="true">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<input type="text" class="form-control" id="inlineFormInputGroup" placeholder="SEARCH" />
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<i class="tim-icons icon-simple-remove"></i>
							</button>
						</div>
					</div>
				</div>
			</div>
			<iframe id="foozi-frame" class="col-lg-4 col-md-12" allow="microphone;"
				src="https://console.dialogflow.com/api-client/demo/embedded/c4168b2c-32ad-48ea-97b1-0519419645fc">
			</iframe>
			<label class="btn btn-primary btn-fab btn-icon btn-round btn-lg"
				style="position: fixed; bottom: 15px; z-index: 10; right: 15px;">
				<img src="./assets/img/favicon.webp" alt="Foozam Logo" width="35px" style="margin-top: 12px" />
			</label>
			<div class="content">
				<div class="row" id="resultsRow">
					<div class="col-lg-12 col-md-12">
						<div class="card ">
							<div class="card-header">
								<h4 class="card-title" id="result-title">
									Your Favorites
								</h4>
							</div>
							<div class="card-body">
								<ul class="nav nav-pills" role="tablist">
									<li class="nav-item">
										<a class="nav-link active" data-toggle="tab" href="#link1" role="tablist" aria-expanded="true"
											id="reci-tab">
											Recipes
										</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" data-toggle="tab" href="#link2" role="tablist" aria-expanded="false"
											id="rest-tab">
											Restaurants
										</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" data-toggle="tab" href="#link3	" role="tablist" aria-expanded="false"
											id="rest-tab">
											Blogs
										</a>
									</li>
								</ul>
								<div class="tab-content tab-space pt-3">
									<div class="tab-pane active" id="link1" aria-expanded="true">
										<!-- Recipe Components Go Here : 2 per row -->
									</div>
									<div class="tab-pane" id="link2" aria-expanded="false">
										<!-- Restaurant Components Go Here : 2 per row-->
									</div>
									<div class="tab-pane" id="link3" aria-expanded="false">
										<!-- Blog Components Go Here : 2 per row-->
									</div>
									<!-- Modal -->
									<div class="modal fade" id="knowMoreModal" tabindex="-1" role="dialog" aria-labelledby="knowMore"
										aria-hidden="true" style="position:fixed;">
										<div class="modal-dialog" role="document">
											<div class="modal-content">
												<div class="modal-header">
													<h5 class="modal-title font-weight-bold" id="knowMoreTitle">Know More</h5>
													<button type="button" class="close" data-dismiss="modal" aria-label="Close">
														<span aria-hidden="true" id="closeCross">&times;</span>
													</button>
												</div>
												<div class="modal-body" id="knowMoreBody">. . .</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-danger" data-dismiss="modal" id="closeButton">
														Close
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	</div>
	<div class="fixed-plugin">
		<div class="dropdown show-dropdown">
			<a href="#" data-toggle="dropdown">
				<i class="fa fa-cog fa-2x"> </i>
			</a>
			<ul class="dropdown-menu">
				<li class="header-title"> Sidebar Background</li>
				<li class="adjustments-line">
					<a href="javascript:void(0)" class="switch-trigger background-color">
						<div class="badge-colors text-center">
							<span class="badge filter badge-primary active" data-color="primary"></span>
							<span class="badge filter badge-info" data-color="blue"></span>
							<span class="badge filter badge-success" data-color="green"></span>
						</div>
						<div class="clearfix"></div>
					</a>
				</li>
				<li class="adjustments-line text-center color-change">
					<span class="color-label">LIGHT MODE</span>
					<span class="badge light-badge mr-2"></span>
					<span class="badge dark-badge ml-2"></span>
					<span class="color-label">DARK MODE</span>
				</li>
			</ul>
		</div>
	</div>
	<!--   Core JS Files   -->
	<script src="./assets/js/core/jquery.min.js"></script>
	<script src="./assets/js/core/popper.min.js"></script>
	<script src="./assets/js/core/bootstrap.min.js"></script>
	<script src="./assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
	<!-- Chart JS -->
	<script src="./assets/js/plugins/chartjs.min.js"></script>
	<!--  Notifications Plugin    -->
	<script src="./assets/js/plugins/bootstrap-notify.js"></script>
	<!-- Control Center for Black Dashboard: parallax effects, scripts for the example pages etc -->
	<script src="./assets/js/black-dashboard.min.js?v=1.0.0"></script>
	<script src="https://www.gstatic.com/firebasejs/5.9.0/firebase.js"></script>

	<script src="loading.js"></script>
	<script src="logout.js"></script>
	<script src="showFavorites.js"></script>
	<script>
		document.body.className += ' fade-out';

		function loggedInUser() {
			const googleLoggedIn = parseInt(localStorage.getItem('googleLoggedIn'));
			const userLoggedIn = parseInt(localStorage.getItem('userLoggedIn'));
			if (googleLoggedIn) {
				const user = JSON.parse(localStorage.getItem('googleUser'));
				const userProfilePhoto = document.getElementById('userProfilePhoto');
				userProfilePhoto.setAttribute('src', user.photoURL);
			} else if (userLoggedIn) {
				const user = JSON.parse(localStorage.getItem('loggedInUser'));
			} else {
				redirectToMain();
			}
		}

		function chatbot() {
			const $fooziButton = $('.btn-fab');
			const $fooziFrame = $('#foozi-frame');
			let toggleFoozi = false;
			$fooziButton.click(() => {
				if (toggleFoozi === false) {
					$fooziFrame.css('display', 'block');
					toggleFoozi = true;
				} else {
					$fooziFrame.css('display', 'none');
					toggleFoozi = false;
				}
			});
		}
		function redirectToMain() {
      const loggedIn = parseInt(localStorage.getItem('googleLoggedIn')) || parseInt(localStorage.getItem(
        'userLoggedIn'));
      if (loggedIn)
        location.replace('../');
    }
		$(document).ready(function () {
			$().ready(function () {
				if (localStorage.getItem('white_color') === 'true') {
					$('body').addClass('white-content');
				} else {
					$('body').removeClass('white-content');
				}
				loggedInUser();
				chatbot();
				$sidebar = $(".sidebar");
				$navbar = $(".navbar");
				$main_panel = $(".main-panel");

				$full_page = $(".full-page");

				$sidebar_responsive = $("body > .navbar-collapse");
				sidebar_mini_active = true;
				white_color = true;

				window_width = $(window).width();

				fixed_plugin_open = $(
					".sidebar .sidebar-wrapper .nav li.active a p"
				).html();

				$(".fixed-plugin a").click(function (event) {
					if ($(this).hasClass("switch-trigger")) {
						if (event.stopPropagation) {
							event.stopPropagation();
						} else if (window.event) {
							window.event.cancelBubble = true;
						}
					}
				});

				$(".fixed-plugin .background-color span").click(function () {
					$(this)
						.siblings()
						.removeClass("active");
					$(this).addClass("active");

					var new_color = $(this).data("color");

					if ($sidebar.length != 0) {
						$sidebar.attr("data", new_color);
					}

					if ($main_panel.length != 0) {
						$main_panel.attr("data", new_color);
					}

					if ($full_page.length != 0) {
						$full_page.attr("filter-color", new_color);
					}

					if ($sidebar_responsive.length != 0) {
						$sidebar_responsive.attr("data", new_color);
					}
				});

				$(".switch-sidebar-mini input").on(
					"switchChange.bootstrapSwitch",
					function () {
						var $btn = $(this);

						if (sidebar_mini_active == true) {
							$("body").removeClass("sidebar-mini");
							sidebar_mini_active = false;
							blackDashboard.showSidebarMessage(
								"Sidebar mini deactivated..."
							);
						} else {
							$("body").addClass("sidebar-mini");
							sidebar_mini_active = true;
							blackDashboard.showSidebarMessage("Sidebar mini activated...");
						}

						// we simulate the window Resize so the charts will get updated in realtime.
						var simulateWindowResize = setInterval(function () {
							window.dispatchEvent(new Event("resize"));
						}, 180);

						// we stop the simulation of Window Resize after the animations are completed
						setTimeout(function () {
							clearInterval(simulateWindowResize);
						}, 1000);
					}
				);

				$(".switch-change-color input").on(
					"switchChange.bootstrapSwitch",
					function () {
						var $btn = $(this);

						if (white_color == true) {
							$("body").addClass("change-background");
							setTimeout(function () {
								$("body").removeClass("change-background");
								$("body").removeClass("white-content");
							}, 900);
							white_color = false;
						} else {
							$("body").addClass("change-background");
							setTimeout(function () {
								$("body").removeClass("change-background");
								$("body").addClass("white-content");
							}, 900);

							white_color = true;
						}
					}
				);

				$(".light-badge").click(function () {
					$("body").addClass("white-content");
					localStorage.setItem('white_color', true);
					window.setTimeout(() => {
						location.reload();
					}, 800);
				});

				$(".dark-badge").click(function () {
					$("body").removeClass("white-content");
					localStorage.setItem('white_color', false);
					window.setTimeout(() => {
						location.reload();
					}, 800);
				});
			});
		});
	</script>
</body>

</html>